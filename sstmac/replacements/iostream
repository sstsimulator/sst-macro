
#ifndef sstmac_iostream_included
#define sstmac_iostream_included

#ifndef SSTMAC_INSIDE_STL
#define SSTMAC_INSIDE_STL
#define IOSTREAM_OWNS_STL
#include <sstmac/replacements/sstmac_pthread_clear.h>
#include <sstmac/replacements/clear_symbol_macros.h>
#endif

#include_next <iostream>
#include <sstream> //have to do this...

namespace sstmac {

std::ostream& cout_wrapper();
std::ostream& cerr_wrapper();

}

namespace std {

using sstmac::cout_wrapper;
using sstmac::cerr_wrapper;

}

#define cout cout_wrapper()
#define cerr cerr_wrapper()

#ifdef IOSTREAM_OWNS_STL
#undef IOSTREAM_OWNS_STL
#undef SSTMAC_INSIDE_STL
#include <sstmac/replacements/return_symbol_macros.h>
#include <sstmac/replacements/sstmac_pthread_return.h>
#endif

#endif
